<!DOCTYPE html>
<html>
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
</head>
<body>
    <script>
        // Intro and when I have press (OK) the program will start running
        var intro = prompt("Hello and welcome to this game! Type in your name and then press " + "(OK)" + " to get the instruction.");

        //Function to show a texts in functional buttons
        function myFunction() {
            rulesdiv.style.display = "block";
            document.getElementById("intro").style.display = "none";
            document.getElementById("rulesbutton").style.display = "none";
        }

        //To get the text downbelow show and hide buttons
        function functionshow() {
            if (document.getElementById("gamearea").style.display == "none") {
                document.getElementById("gamearea").style.display = "block";
                document.getElementById("timerbutton").style.display = "block";
            }
        }
        function functionhide() {
            if (document.getElementById("gamearea").style.display == "block") {
                document.getElementById("gamearea").style.display = "none";
                document.getElementById("timerbutton").style.display = "none";
            }

        }
        // To get the rules
        var rulesdiv = document.createElement("div");
        rulesdiv.id = "rulesarea";
        rulesdiv.style.display = "none";
        document.body.appendChild(rulesdiv);
        var showbutton = document.createElement("BUTTON");

        var showbuttontext = document.createTextNode("SHOW");

        var hidebutton = document.createElement("BUTTON");

        var hidebuttontext = document.createTextNode("HIDE");
        // You see text Start
        showbutton.appendChild(showbuttontext);
        hidebutton.appendChild(hidebuttontext);


        //When you have press the button RULES you come to a new site there you can see the rules
        rulesdiv.innerHTML = "Hi " + intro + "! It is time to review the rules! " + "<br>" + "<br>" + "RULES:" + "<br> "
            + "1. You have 15 secound each round to memorize the color." + "<br>" +
            " 2. After every 5 round the possison of colors you choose between mixed and you can not change this." + "<br> " +
            "3. After every 6th round you have the opportunity to add a color to choose from, it is up to you if you want that." + "<br> " +
            "4. If you tap in the wrong order you lose!" + "<br>"
            + "Good luck " + intro + "!" + "<br> " + "<br> " + "Press \"SHOW\" down below to view the gamingboard and \"HIDE\" if you want to hide the game!"
            + "<br>" + "This will not start / stop the game!"
            + "<br>" + "<br>";

        //You see the show and hide buttons on the ruleside
        rulesdiv.appendChild(showbutton);
        rulesdiv.appendChild(hidebutton);
        showbutton.addEventListener("click", functionshow);
        hidebutton.addEventListener("click", functionhide);
        // Make gameareadiv
        var gameareadiv = document.createElement('div');
        gameareadiv.id = "gamearea";
        gameareadiv.style.display = "none";
        var spacedivivtext = document.createTextNode("");
        // write gamecode
        document.body.appendChild(gameareadiv);

        //Game layut
        var gameareadivtext = document.createTextNode("- THE MEMORY-GAME - "); 
        gameareadiv.appendChild(gameareadivtext);

        //The text after the memory game
        var textareadiv = document.createElement("div");
        textareadiv.id = "textarea1";
        textareadiv.style.display = "none";
        document.getElementById("gamearea").appendChild(textareadiv);

        // Button to start the timer
        var timerButton = document.createElement("BUTTON");
        timerButton.id = "timerbutton";
        timerButton.innerHTML = "START TIMER";
        timerButton.onclick = startTimer;
        document.body.appendChild(timerButton); // To start the timer
        timerButton.style.display = "none";


        // Color who shows up loop for the dots.
        document.getElementById("textarea1").innerHTML =
            "THIS IS THE COLORORDER YOU NEED TO REMEMBER ðŸ‘‡";

        var correctbuttondiv = document.createElement("div");
        correctbuttondiv.id = "correctbuttondiv";

        correctbuttondiv.style.display = "none";

        // Button to correct
        var corecctButton = document.createElement("BUTTON"); 
        corecctButton.innerHTML = "CORRECT"; 
        //corecctButton.style.display = "none";
        document.body.appendChild(correctbuttondiv);
        correctbuttondiv.appendChild(corecctButton); 
      
        /*
        // Button to reset
        var resetButton = document.createElement("BUTTON");
        resetButton.innerHTML = "RESET";
        resetButton.style.display = "none";
        resetButton.onclick = startTimer; // fix
        document.getElementById("gamearea").appendChild(resetButton); //FIX
        */

        /*The text after the memory game
        textareadiv = document.createElement("div");
        textareadiv.id = "textarea2";
        document.getElementById("gamearea").appendChild(textareadiv);
        */

        // Here will the colororder the random colors to shows up
        const canvas = document.createElement("canvas");
        document.getElementById("textarea1").appendChild(canvas);



        function createArrayOfRandomizedColors(count) {
            // Make a array with different colors
            var colors = ["red", "blue", "yellow", "green", "pink", "orange", "purple", "grey", "turquoise", "brown", "lime", "beige", "deeppink", "skyblue", "olive"];
            var arrayOfRandomizedColors = new Array();
            while (arrayOfRandomizedColors.length < count) {
                // Math.floor to get a whole color
                var color = Math.floor((Math.random() * 14) + 1);
                arrayOfRandomizedColors.push(colors[color]);

            }
            // Put out the color on the board
            return arrayOfRandomizedColors;
        }

        function drawNthCircleInColor(n, color) {
            ctx.beginPath();
            ctx.arc(50 * (n + 1) - 25, 25, 20, 0, 2 * Math.PI);
            // To get a random color
            ctx.fillStyle = color;
            ctx.fill();
            ctx.lineWidth = 1;
            ctx.strokeStyle = color;
            ctx.stroke();
        }

        // To get a canvas for the guessorder on the board
        canvas.id = "myCanvas";
        canvas.height = 50; canvas.style = "border:1px solid #000000;"
        // At the board
        document.getElementById("gamearea").appendChild(canvas);
        canvas.style.display = "none";
        const ctx = canvas.getContext("2d");

        // Hide the text THIS IS THE COLORORDER... before the timer sets
        textarea1.style.display = "none";

        /*
        textareadiv = document.createElement("div");
        textareadiv.id = "timer";
        document.getElementById("gamearea").appendChild(textareadiv);
        */


        for (var numberOfBlobs = 1; numberOfBlobs < 5; numberOfBlobs++) {
            canvas.width = 50 * numberOfBlobs;
            var arrayOfCorrectColors = createArrayOfRandomizedColors(numberOfBlobs);

            for (let index = 0; index < numberOfBlobs; index++) {
                drawNthCircleInColor(index, arrayOfCorrectColors[index]);
            }
        }

        // Text under color blobs for "Your color board"
        var colorBoardText = document.createElement("div");
        colorBoardText.id = "colorBoardText";
        colorBoardText.innerHTML = "ðŸ‘‡ Your colorboard ðŸ‘‡";
        document.getElementById("gamearea").appendChild(colorBoardText);
        colorBoardText.style.display = "none";

        // The buttons for the colorboard,Print the colorbuttons
        function printcolorbuttons() {
            // Make a array with different colors
            var buttonlist = [colors];
            for (var i = 0; i < buttonlist.length; i++) {
                var makebutton = document.createElement("button");
                var buttontexts = document.createTextNode(buttonlist[i]);
                colorButtons.appendChild(t);
                document.body.appendChild(colorButtons)
            }
            return buttonlist
        }


        // Timer display
        var timerDisplay = document.createElement("div");
        timerDisplay.id = "timer";
        document.getElementById("gamearea").appendChild(timerDisplay);

        // Timer function
        function startTimer() {
            canvas.style.display = "block";  // The color to rememberpops up
            colorBoardText.style.display = "block"; // The user colorboard shows up
            textareadiv.style.display = "block"; // The colorordertext shows

            var timeLeft = numberOfBlobs
            timerDisplay.innerHTML = "Time left: " + timeLeft + " seconds";


            var timer = setInterval(function () {
                timeLeft--;
                timerDisplay.innerHTML = "Time left: " + timeLeft + " seconds";

                if (timeLeft <= 0) {
                    clearInterval(timer);
                    document.getElementById("textarea1").innerHTML += ("PRESS THE ORDER YOU JUST SEEN:");
                    var canvas = document.getElementById("myCanvas");
                        //Hide the canvas
                        canvas.style.display = "none";
                    


                    textarea1.style.display = "none"; //Hide the text COLORORDER

                    //Hide the timebutton when the countdown is done


                    timerButton.style.display = "none";

                    // Correct button shows up when the timer hit 0
                    correctbuttondiv.style.display = "block";
                    //resetbutton.style.display = "block";

                    //Hide time left
                    timerDisplay.style.display = "none";

                }
            }, 1000);
        }


    </script>


    <div id="intro">
        This game is a memory game there you gonna see how good memory you have! <br />
        For every round you win it gonna be harder and harder up to levle 14 who is the last levle! <br />
        If you press the wrong button you need to start all over again! <br /> <br /> Press (RULES) down below to see the rules. <br /> <br />
    </div>

    <button id="rulesbutton" onclick="myFunction()">RULES</button>



</body>
</html>
